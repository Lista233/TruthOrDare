{"version":3,"sources":["pages/tool/timer.uvue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<view class=\"timer\">\r\n\t\t<navigator open-type=\"navigateBack\" animation-type=\"pop-out\" url='/pages/index/index' class=\"Exit\"><text selectable=\"false\" class=\"ExitText\" >< 返回</text></navigator>\n\t\t<text @click=\"start()\" class=\"timertext\"> {{showsec}}:{{showmsec}}</text>\r\n\t\t<text @click=\"changeTime()\" class=\"settimertext\"> 设置时间</text>\n\t</view>\n</template>\n\n<script setup>\r\n\tfunction padWithZeros(num:number, length:number) {\r\n\t    let numStr = num.toString();\r\n\t    let zerosToPad = length - numStr.length;\r\n\t    if (zerosToPad > 0) {\r\n\t        numStr = '0'.repeat(zerosToPad) + numStr;\r\n\t    }\r\n\t    return numStr;\r\n\t}\r\n\tlet totalmsec=ref(5000)\r\n\tlet sec=computed(()=>Math.floor(totalmsec.value/1000))\r\n\tlet msec=computed(()=>totalmsec.value%1000)\r\n\tlet timerdelay:number=2;\r\n\tlet intervalID:number=-1\r\n\tlet tid=-1;\r\n\tlet settingtime=totalmsec.value;\r\n\tlet isStart=false;\r\n\tlet firsttouch=true;\r\n\tlet showsec=computed(()=>padWithZeros(sec.value as number,2));\r\n\tlet showmsec=computed(()=>padWithZeros(msec.value as number ,3));\r\n\r\nfunction stop()\r\n{\r\n\tclearInterval(intervalID);\r\n\treturn true;\r\n}\r\nfunction playaudio(url:string)\r\n{  \r\n\tlet audio=uni.createInnerAudioContext();\r\n\taudio.src=(url)\r\n\tconsole.log(1)\r\n\t//audio.autoplay=true;\r\n\taudio.play()\r\n\taudio.onEnded(()=>\r\n\t{\r\n\t\taudio.destroy()\r\n\t})\r\n}\r\nfunction start()\r\n{\r\n\tisStart=!isStart;\r\n\t\r\n\tif(firsttouch)\r\n\t{\r\n\t\tif(totalmsec.value<=0)\r\n\t\t{\r\n\t\t\ttotalmsec.value=settingtime;\r\n\t\t}\r\n\t\tconsole.log(3)\r\n\t  playaudio('/static/voice/计时开始了呦.wav')\r\n\t  firsttouch=false\r\n\t}\r\n\telse{\r\n\t\t\r\n\t\r\n\t}\r\n\tif(isStart)\r\n\t{intervalID=setInterval(\r\n\t()=>{\r\n\ttotalmsec.value=totalmsec.value-timerdelay>=0?totalmsec.value-timerdelay:0;\r\n\r\n\tif(totalmsec.value==0)\r\n\t{\r\n\t\t\tstop()\r\n\t\t\tconsole.log(1)\r\n\t\t\t if (tid != -1) {\r\n\t\t\t    clearTimeout(tid) \r\n\t\t\t}\r\n\t\t\ttid=setTimeout(()=>{playaudio('/static/voice/计时结束.wav')},50)\r\n\t\t\r\n\t\t\tfirsttouch=true;\r\n\t\t\tisStart=false;\r\n\t\t\treturn\r\n\t}\r\n\t\r\n\t}\r\n\t,timerdelay);}\r\n\telse\r\n\t{if(!firsttouch){\r\n\t\tplayaudio('/static/voice/暂停.wav')\r\n\t\t}\r\n\t\tclearInterval(intervalID);}\r\n}\r\n\r\nfunction changeTime()\r\n{\r\n\tlet op:ShowModalOptions={title:'修改时间（单位：秒）',\r\n\t                         editable:true,\r\n\t\t\t\t\t\t\t fail:null,\r\n\t\t\t\t\t\t\t success:(res)=>{\r\n\t\t\t\t\t\t\t\t if(res.cancel)\r\n\t\t\t\t\t\t\t\t {return}\r\n\t\t\t\t\t\t\t\t console.log('我成功了');\r\n\t\t\t\t\t\t\t\tlet content=res.content?.trim();\r\n\t\t\t\t\t\t\t\tlet a=parseInt(content!)\r\n\t\t\t\t\t\t\t\tif(a==NaN||a<0)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t          title: \"请输入正整数\",\r\n\t\t\t\t\t\t\t\t\t\t\t  icon:'none',\r\n\t\t\t\t\t\t\t\t\t\t\t  position:'bottom'\r\n\t\t\t\t\t\t\t\t\t        })\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\ttotalmsec.value=a*1000;\r\n\t\t\t\t\t\t\t\t\tsettingtime=a*1000;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t };\r\n\tlet a=uni.showModal(op)\r\n\t\r\n}\n</script>\n\n<style lang=\"scss\">\r\n\t@font-face {\r\n\t  font-family: '像素字';\r\n\t  src:url('../static/锐字太空奇遇像素.ttf');\r\n\t}\n.timer{\r\nheight:100%;\r\n\t\twidth: 100%;\r\n\t\t  background: linear-gradient(to bottom,#000000, #1A1A1A); \r\n\t\t  z-index: -1;\r\n\t\t   display: flex;\r\n\t\t    flex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content:center;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\t.Exit{\r\n\t\t\t\t\t  z-index: 1;\r\n\t\t\t\t\t  position: fixed;\r\n\t\t\t\t\t  //background-color: firebrick;\r\n\t\t\t\t\t  margin-left:5% ;\r\n\t\t\t\t\t  margin-top:3%;\r\n\t\t\t\t\t  width: 100px;\r\n\t\t\t\t\t  height: 50px;\r\n\t\t\t\t\t  .ExitText{\r\n\t\t\t\t\t\t  font-family: '像素字';\r\n\t\t\t\t\t\t  color: white;\r\n\t\t\t\t\t\t  font-size: 30px;\r\n\t\t\t\t\t\t  text-align: left;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t\r\n\t\t\t\t\t  z-index: 200;\r\n\t\t\t}\r\n\t.timertext\r\n\t{\r\n\t\t  font-family: '像素字';\r\n\t\tfont-size: 50px;\r\n\t\tcolor: wheat;\r\n\t}\r\n\t.settimertext\r\n\t{\r\n\t\t  font-family: '像素字';\r\n\t\tfont-size: 35px;\r\n\t\tcolor: white;\r\n\t\tz-index: 1;\r\n\t\tposition: fixed;\r\n\t\t//background-color: firebrick;\r\n\t\tright: 30px;\r\n\t\tbottom: 5px;\r\n\t\t//margin-right:5% ;\r\n\t\tmargin-top:4%;\r\n\t\t//width: 100px;\r\n\t\theight: 50px;\r\n\t}\r\n}\n</style>"]}