{"version":3,"sources":["pages/tool/timer.uvue","pages/game/start.uvue?type=page","pages/tool/timer.uvue?type=page","App.uvue"],"sourcesContent":["<template>\n\t<view class=\"timer\">\r\n\t\t<navigator open-type=\"navigateBack\" animation-type=\"pop-out\" url='/pages/index/index' class=\"Exit\"><text selectable=\"false\" class=\"ExitText\" >< 返回</text></navigator>\n\t\t<text @click=\"start()\" class=\"timertext\"> {{showsec}}:{{showmsec}}</text>\r\n\t\t<text @click=\"changeTime()\" class=\"settimertext\"> 设置时间</text>\n\t</view>\n</template>\n\n<script setup>\r\n\tfunction padWithZeros(num:number, length:number) {\r\n\t    let numStr = num.toString();\r\n\t    let zerosToPad = length - numStr.length;\r\n\t    if (zerosToPad > 0) {\r\n\t        numStr = '0'.repeat(zerosToPad) + numStr;\r\n\t    }\r\n\t    return numStr;\r\n\t}\r\n\tlet totalmsec=ref(5000)\r\n\tlet sec=computed(()=>Math.floor(totalmsec.value/1000))\r\n\tlet msec=computed(()=>totalmsec.value%1000)\r\n\tlet timerdelay:number=2;\r\n\tlet intervalID:number=-1\r\n\tlet tid=-1;\r\n\tlet settingtime=totalmsec.value;\r\n\tlet isStart=false;\r\n\tlet firsttouch=true;\r\n\tlet showsec=computed(()=>padWithZeros(sec.value as number,2));\r\n\tlet showmsec=computed(()=>padWithZeros(msec.value as number ,3));\r\n\r\nfunction stop()\r\n{\r\n\tclearInterval(intervalID);\r\n\treturn true;\r\n}\r\nfunction playaudio(url:string)\r\n{  \r\n\tlet audio=uni.createInnerAudioContext();\r\n\taudio.src=(url)\r\n\tconsole.log(1)\r\n\t//audio.autoplay=true;\r\n\taudio.play()\r\n\taudio.onEnded(()=>\r\n\t{\r\n\t\taudio.destroy()\r\n\t})\r\n}\r\nfunction start()\r\n{\r\n\tisStart=!isStart;\r\n\t\r\n\tif(firsttouch)\r\n\t{\r\n\t\tif(totalmsec.value<=0)\r\n\t\t{\r\n\t\t\ttotalmsec.value=settingtime;\r\n\t\t}\r\n\t\tconsole.log(3)\r\n\t  playaudio('/static/voice/计时开始了呦.wav')\r\n\t  firsttouch=false\r\n\t}\r\n\telse{\r\n\t\t\r\n\t\r\n\t}\r\n\tif(isStart)\r\n\t{intervalID=setInterval(\r\n\t()=>{\r\n\ttotalmsec.value=totalmsec.value-timerdelay>=0?totalmsec.value-timerdelay:0;\r\n\r\n\tif(totalmsec.value==0)\r\n\t{\r\n\t\t\tstop()\r\n\t\t\tconsole.log(1)\r\n\t\t\t if (tid != -1) {\r\n\t\t\t    clearTimeout(tid) \r\n\t\t\t}\r\n\t\t\ttid=setTimeout(()=>{playaudio('/static/voice/计时结束.wav')},50)\r\n\t\t\r\n\t\t\tfirsttouch=true;\r\n\t\t\tisStart=false;\r\n\t\t\treturn\r\n\t}\r\n\t\r\n\t}\r\n\t,timerdelay);}\r\n\telse\r\n\t{if(!firsttouch){\r\n\t\tplayaudio('/static/voice/暂停.wav')\r\n\t\t}\r\n\t\tclearInterval(intervalID);}\r\n}\r\n\r\nfunction changeTime()\r\n{\r\n\tlet op:ShowModalOptions={title:'修改时间（单位：秒）',\r\n\t                         editable:true,\r\n\t\t\t\t\t\t\t fail:null,\r\n\t\t\t\t\t\t\t success:(res)=>{\r\n\t\t\t\t\t\t\t\t if(res.cancel)\r\n\t\t\t\t\t\t\t\t {return}\r\n\t\t\t\t\t\t\t\t console.log('我成功了');\r\n\t\t\t\t\t\t\t\tlet content=res.content?.trim();\r\n\t\t\t\t\t\t\t\tlet a=parseInt(content!)\r\n\t\t\t\t\t\t\t\tif(a==NaN||a<0)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t          title: \"请输入正整数\",\r\n\t\t\t\t\t\t\t\t\t\t\t  icon:'none',\r\n\t\t\t\t\t\t\t\t\t\t\t  position:'bottom'\r\n\t\t\t\t\t\t\t\t\t        })\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\ttotalmsec.value=a*1000;\r\n\t\t\t\t\t\t\t\t\tsettingtime=a*1000;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t };\r\n\tlet a=uni.showModal(op)\r\n\t\r\n}\n</script>\n\n<style lang=\"scss\">\r\n\t@font-face {\r\n\t  font-family: '像素字';\r\n\t  src:url('../static/锐字太空奇遇像素.ttf');\r\n\t}\n.timer{\r\nheight:100%;\r\n\t\twidth: 100%;\r\n\t\t  background: linear-gradient(to bottom,#000000, #1A1A1A); \r\n\t\t  z-index: -1;\r\n\t\t   display: flex;\r\n\t\t    flex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content:center;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\t.Exit{\r\n\t\t\t\t\t  z-index: 1;\r\n\t\t\t\t\t  position: fixed;\r\n\t\t\t\t\t  //background-color: firebrick;\r\n\t\t\t\t\t  margin-left:5% ;\r\n\t\t\t\t\t  margin-top:3%;\r\n\t\t\t\t\t  width: 100px;\r\n\t\t\t\t\t  height: 50px;\r\n\t\t\t\t\t  .ExitText{\r\n\t\t\t\t\t\t  font-family: '像素字';\r\n\t\t\t\t\t\t  color: white;\r\n\t\t\t\t\t\t  font-size: 30px;\r\n\t\t\t\t\t\t  text-align: left;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t\r\n\t\t\t\t\t  z-index: 200;\r\n\t\t\t}\r\n\t.timertext\r\n\t{\r\n\t\t  font-family: '像素字';\r\n\t\tfont-size: 50px;\r\n\t\tcolor: wheat;\r\n\t}\r\n\t.settimertext\r\n\t{\r\n\t\t  font-family: '像素字';\r\n\t\tfont-size: 35px;\r\n\t\tcolor: white;\r\n\t\tz-index: 1;\r\n\t\tposition: fixed;\r\n\t\t//background-color: firebrick;\r\n\t\tright: 30px;\r\n\t\tbottom: 5px;\r\n\t\t//margin-right:5% ;\r\n\t\tmargin-top:4%;\r\n\t\t//width: 100px;\r\n\t\theight: 50px;\r\n\t}\r\n}\n</style>",null,null,null],"names":[],"mappings":"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"}